(this["webpackJsonpsalute-demo-app"]=this["webpackJsonpsalute-demo-app"]||[]).push([[0],{214:function(t,n,e){"use strict";e.r(n);var r=e(0),o=e.n(r),i=e(16),c=e.n(i),u=(e(90),e(9)),l=e.n(u),a=e(8),s=e(26),d=e(17),v=e.n(d),f=e(39),b=e.n(f),j=e(85),p=e(82),h=(e(61),e(4)),O=function(t){var n=t.word||"",e=t.indArr,r=t.show;return Object(h.jsx)("span",{className:"container",children:n.split("").map((function(t,n){return e.find((function(t,e,r){return t-1===n}))||r?Object(h.jsx)("label",{className:"word",children:t},n):Object(h.jsx)("label",{className:"word"},n)}))})},m=e(40),g=e.n(m),x=e(13),w="https://shielded-escarpment-91826.herokuapp.com/words/";function y(){return S.apply(this,arguments)}function S(){return(S=Object(s.a)(l.a.mark((function t(){var n,e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.get(w);case 2:return n=t.sent,e=n.data,t.abrupt("return",e);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var k=function(){var t,n,e,o,i=v()([]),c=Object(a.a)(i,3),u=(c[0],c[1]),d=c[2],f=v()(0),m=Object(a.a)(f,3),g=(m[0],m[1]),w=m[2],S=v()(0),k=Object(a.a)(S,3),F=k[0],_=k[1],q=k[2],A=v()([]),T=Object(a.a)(A,3),E=T[0],N=T[1],R=T[2],z=Object(r.useRef)(void 0),C=Object(r.useRef)("formal"),G=Object(r.useState)(!1),B=Object(a.a)(G,2),J=B[0],D=B[1],I=Object(r.useRef)(0),L=v()(0),M=Object(a.a)(L,3),P=M[0],H=M[1],K=M[2];Object(r.useEffect)((function(){var t;z.current=(t=function(){return Q()},Object(j.a)({getState:t})),z.current.on("start",(function(t){console.log("assistant.on(start)",t)})),z.current.on("data",(function(t){"character"==t.type&&(C.current=t.character.id),t.assistant&&("official"==t.assistant?C.current="formal":C.current="informal"),console.log("assistant.on(data)",t);var n=t.action;U(n)}))}),[]),Object(r.useEffect)((function(){(function(){var t=Object(s.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y();case 2:(n=t.sent).sort((function(){return Math.random()-.5})),console.log(n),u(n);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]);var Q=function(){var t,n,e,r,o,i;console.log("getStateForAssistant: this.state:",null===q||void 0===q?void 0:q.current);var c={item_selector:{items:{word:null===d||void 0===d||null===(t=d.current)||void 0===t||null===(n=t[null===w||void 0===w?void 0:w.current])||void 0===n?void 0:n.word,question:null===d||void 0===d||null===(e=d.current)||void 0===e||null===(r=e[null===w||void 0===w?void 0:w.current])||void 0===r?void 0:r.question,future:null===d||void 0===d||null===(o=d.current)||void 0===o||null===(i=o[(null===w||void 0===w?void 0:w.current)+1])||void 0===i?void 0:i.question,point:null===q||void 0===q?void 0:q.current,lives:null===K||void 0===K?void 0:K.current,arr:null===R||void 0===R?void 0:R.current,speech:null===C||void 0===C?void 0:C.current,possibility:null===q||void 0===q?void 0:q.current,try:null===I||void 0===I?void 0:I.current}}};return console.log("getStateForAssistant: state:",c),c},U=function(t){if(console.log("dispatchAssistantAction",t),t)switch(t.type){case"guess_word":return Y(t);case"add_life":return Z();case"open_letter":return $(t);case"init":return W();case"ease":return X(t);default:throw new Error}},V=function(t,n){var e;console.log("START"),null===z||void 0===z||null===(e=z.current)||void 0===e||e.sendData({action:{action_id:t,payload:{asked:n}}})},W=function(){V("say_question","\u041e\u0433\u043b\u0430\u0441\u0438 \u0432\u043e\u043f\u0440\u043e\u0441")},X=function(t){t.body&&(D(!0),setTimeout((function(){var t=(null===w||void 0===w?void 0:w.current)+1;g(t);var n=(null===q||void 0===q?void 0:q.current)+1;N([]),_(n),V("say_question","\u041e\u0433\u043b\u0430\u0441\u0438 \u0432\u043e\u043f\u0440\u043e\u0441"),D(!1)}),4500)),I.current=0},Y=function(t){if(!0===t.isRight){var n,e;b()({title:"\u0412\u0435\u0440\u043d\u043e!",text:"\u0421\u043b\u043e\u0432\u043e: ".concat(null===d||void 0===d||null===(n=d.current)||void 0===n||null===(e=n[null===w||void 0===w?void 0:w.current])||void 0===e?void 0:e.word),icon:"success",timer:3e3});var r=(null===w||void 0===w?void 0:w.current)+1;g(r);var o=(null===q||void 0===q?void 0:q.current)+1;N([]),_(o),V("say_question","\u041e\u0433\u043b\u0430\u0441\u0438 \u0432\u043e\u043f\u0440\u043e\u0441"),I.current=0}else if((null===K||void 0===K?void 0:K.current)>0){var i=(null===K||void 0===K?void 0:K.current)-1;H(i)}else b()({text:"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0441\u043d\u043e\u0432\u0430 :(",icon:"error",timer:3e3}),_(0),I.current+=1},Z=function(){var t=(null===K||void 0===K?void 0:K.current)+1;H(t);var n=(null===q||void 0===q?void 0:q.current)-2;_(n)},$=function(t){var n=t.id,e=null===R||void 0===R?void 0:R.current;e.push(n),N(e);var r=(null===q||void 0===q?void 0:q.current)-1;_(r)};return Object(h.jsxs)("div",{className:"content",children:[Object(h.jsxs)("div",{children:[Object(h.jsxs)("label",{style:{fontSize:"24pt"},children:["\u0423\u0433\u0430\u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u0434\u0440\u044f\u0434: ",F]}),Object(h.jsxs)("button",{onClick:function(){V("add_life","\u041a\u0443\u043f\u0438\u0442\u044c \u0436\u0438\u0437\u043d\u044c")},className:"shine-button",children:[Object(h.jsx)(x.f,{color:"#FF0000"}),Object(h.jsxs)("label",{style:{fontSize:"24pt"},children:[": ",P]})]})]}),Object(h.jsx)(O,{word:null===d||void 0===d||null===(t=d.current)||void 0===t||null===(n=t[null===w||void 0===w?void 0:w.current])||void 0===n?void 0:n.word,indArr:E,show:J}),Object(h.jsx)(p.TextBox,{title:"\u0417\u0430\u0433\u0430\u0434\u043a\u0430:",size:"l",subTitle:null===d||void 0===d||null===(e=d.current)||void 0===e||null===(o=e[null===w||void 0===w?void 0:w.current])||void 0===o?void 0:o.question,style:{margin:"5% 0 0 0",fontSize:"24pt"}})]})},F=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,216)).then((function(n){var e=n.getCLS,r=n.getFID,o=n.getFCP,i=n.getLCP,c=n.getTTFB;e(t),r(t),o(t),i(t),c(t)}))},_=e(84),q=e(1),A=e(30),T=e(2);function E(){var t=Object(_.a)(["\n    html:root {\n        min-height: 100vh;\n        color: ",";\n        background-color: ",";\n        background-image: ",";\n    }\n"]);return E=function(){return t},t}var N=Object(q.createGlobalStyle)(E(),T.text,T.background,T.gradient),R=Object(q.createGlobalStyle)(A.darkSber),z=(Object(q.createGlobalStyle)(A.darkJoy),Object(q.createGlobalStyle)(A.darkEva),function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(N,{}),Object(h.jsx)(R,{})]})});c.a.render(Object(h.jsxs)(o.a.StrictMode,{children:[Object(h.jsx)(z,{}),Object(h.jsx)(k,{})]}),document.getElementById("root")),F()},61:function(t,n,e){},90:function(t,n,e){}},[[214,1,2]]]);
//# sourceMappingURL=main.85ff692d.chunk.js.map