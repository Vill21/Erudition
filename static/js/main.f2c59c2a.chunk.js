(this["webpackJsonpsalute-demo-app"]=this["webpackJsonpsalute-demo-app"]||[]).push([[0],{214:function(n,t,e){"use strict";e.r(t);var r=e(0),o=e.n(r),i=e(16),c=e.n(i),u=(e(90),e(9)),l=e.n(u),a=e(8),s=e(26),d=e(17),v=e.n(d),f=e(27),b=e.n(f),j=e(85),p=e(81),h=(e(60),e(4)),O=function(n){var t=n.word||"",e=n.indArr;return Object(h.jsx)("span",{className:"container",children:t.split("").map((function(n,t){return e.find((function(n,e,r){return n-1===t}))?Object(h.jsx)("label",{className:"word",children:n},t):Object(h.jsx)("label",{className:"word"},t)}))})},g=e(39),x=e.n(g),m=e(13),w="https://shielded-escarpment-91826.herokuapp.com/";function y(){return S.apply(this,arguments)}function S(){return(S=Object(s.a)(l.a.mark((function n(){var t,e;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,x.a.get(w);case 2:return t=n.sent,e=t.data,n.abrupt("return",e);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var k=function(){var n,t,e,o,i=v()([]),c=Object(a.a)(i,3),u=(c[0],c[1]),d=c[2],f=v()(0),g=Object(a.a)(f,3),x=(g[0],g[1]),w=g[2],S=v()(0),k=Object(a.a)(S,3),F=k[0],_=k[1],A=k[2],q=v()([]),T=Object(a.a)(q,3),N=T[0],z=T[1],C=T[2],E=Object(r.useRef)(void 0),B=v()(0),R=Object(a.a)(B,3),D=R[0],G=R[1],I=R[2];Object(r.useEffect)((function(){var n;E.current=(n=function(){return J()},Object(j.a)({getState:n})),E.current.on("start",(function(n){console.log("assistant.on(start)",n)})),E.current.on("data",(function(n){console.log("assistant.on(data)",n);var t=n.action;L(t)}))}),[]),Object(r.useEffect)((function(){(function(){var n=Object(s.a)(l.a.mark((function n(){var t;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y();case 2:(t=n.sent).sort((function(){return Math.random()-.5})),console.log(t),u(t);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}})()()}),[]);var J=function(){var n,t,e,r,o,i;console.log("getStateForAssistant: this.state:",null===A||void 0===A?void 0:A.current);var c={item_selector:{items:{word:null===d||void 0===d||null===(n=d.current)||void 0===n||null===(t=n[null===w||void 0===w?void 0:w.current])||void 0===t?void 0:t.word,question:null===d||void 0===d||null===(e=d.current)||void 0===e||null===(r=e[null===w||void 0===w?void 0:w.current])||void 0===r?void 0:r.question,future:null===d||void 0===d||null===(o=d.current)||void 0===o||null===(i=o[(null===w||void 0===w?void 0:w.current)+1])||void 0===i?void 0:i.question,point:null===A||void 0===A?void 0:A.current,lives:null===I||void 0===I?void 0:I.current,arr:null===C||void 0===C?void 0:C.current}}};return console.log("getStateForAssistant: state:",c),c},L=function(n){if(console.log("dispatchAssistantAction",n),n)switch(n.type){case"guess_word":return H(n);case"add_life":return K();case"open_letter":return Q(n);case"init":return P();default:throw new Error}},M=function(n,t){var e;console.log("START"),null===E||void 0===E||null===(e=E.current)||void 0===e||e.sendData({action:{action_id:n,payload:{asked:t}}})},P=function(){M("say_question","\u041e\u0433\u043b\u0430\u0441\u0438 \u0432\u043e\u043f\u0440\u043e\u0441")},H=function(n){if(!0===n.isRight){var t,e;b()("\u0412\u0435\u0440\u043d\u043e!","\u0421\u043b\u043e\u0432\u043e: ".concat(null===d||void 0===d||null===(t=d.current)||void 0===t||null===(e=t[null===w||void 0===w?void 0:w.current])||void 0===e?void 0:e.word),"success");var r=(null===w||void 0===w?void 0:w.current)+1;x(r);var o=(null===A||void 0===A?void 0:A.current)+1;z([]),_(o),M("say_question","\u041e\u0433\u043b\u0430\u0441\u0438 \u0432\u043e\u043f\u0440\u043e\u0441")}else if((null===I||void 0===I?void 0:I.current)>0){var i=(null===I||void 0===I?void 0:I.current)-1;G(i),b()("\u0423 \u0432\u0430\u0441 \u043e\u0441\u0442\u0430\u043b\u043e\u0441\u044c ".concat(null===I||void 0===I?void 0:I.current," \u043f\u043e\u043f\u044b\u0442\u043e\u043a"),"","error")}else b()("\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0441\u043d\u043e\u0432\u0430 :(","","error"),_(0)},K=function(){var n=(null===I||void 0===I?void 0:I.current)+1;G(n);var t=(null===A||void 0===A?void 0:A.current)-2;_(t)},Q=function(n){var t=n.id,e=null===C||void 0===C?void 0:C.current;e.push(t),z(e);var r=(null===A||void 0===A?void 0:A.current)-1;_(r)};return Object(h.jsxs)("div",{className:"content",children:[Object(h.jsxs)("div",{children:[Object(h.jsxs)("label",{style:{fontSize:"24pt"},children:["\u0423\u0433\u0430\u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u0434\u0440\u044f\u0434: ",F]}),Object(h.jsxs)("button",{onClick:function(){M("add_life","\u041a\u0443\u043f\u0438\u0442\u044c \u0436\u0438\u0437\u043d\u044c")},className:"shine-button",children:[Object(h.jsx)(m.f,{color:"#FF0000"}),Object(h.jsxs)("label",{style:{fontSize:"24pt"},children:[": ",D]})]})]}),Object(h.jsx)(O,{word:null===d||void 0===d||null===(n=d.current)||void 0===n||null===(t=n[null===w||void 0===w?void 0:w.current])||void 0===t?void 0:t.word,indArr:N}),Object(h.jsx)(p.TextBox,{title:"\u0417\u0430\u0433\u0430\u0434\u043a\u0430:",size:"l",subTitle:null===d||void 0===d||null===(e=d.current)||void 0===e||null===(o=e[null===w||void 0===w?void 0:w.current])||void 0===o?void 0:o.question,style:{margin:"5% 0 0 0",fontSize:"24pt"}})]})},F=function(n){n&&n instanceof Function&&e.e(3).then(e.bind(null,216)).then((function(t){var e=t.getCLS,r=t.getFID,o=t.getFCP,i=t.getLCP,c=t.getTTFB;e(n),r(n),o(n),i(n),c(n)}))},_=e(83),A=e(1),q=e(84),T=e(2);function N(){var n=Object(_.a)(["\n    html:root {\n        min-height: 100vh;\n        color: ",";\n        background-color: ",";\n        background-image: ",";\n    }\n"]);return N=function(){return n},n}var z=Object(A.createGlobalStyle)(N(),T.text,T.background,T.gradient),C=Object(A.createGlobalStyle)(q.darkSber),E=function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(z,{}),Object(h.jsx)(C,{})]})};c.a.render(Object(h.jsxs)(o.a.StrictMode,{children:[Object(h.jsx)(E,{}),Object(h.jsx)(k,{})]}),document.getElementById("root")),F()},60:function(n,t,e){},90:function(n,t,e){}},[[214,1,2]]]);
//# sourceMappingURL=main.f2c59c2a.chunk.js.map