(this["webpackJsonpsalute-demo-app"]=this["webpackJsonpsalute-demo-app"]||[]).push([[0],{214:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),c=n(17),i=n.n(c),l=(n(90),n(9)),s=n.n(l),u=n(8),a=n(27),d=n(18),v=n.n(d),j=n(40),b=n.n(j),f=n(85),h=n(14),O=(n(62),n(3)),x=function(e){var t=e.word||"",n=e.indArr,r=e.show;return Object(O.jsx)("span",{className:"container",children:t.split("").map((function(e,t){return n.find((function(e,n,r){return e-1===t}))||r?Object(O.jsx)("label",{className:"word",children:e},t):Object(O.jsx)("label",{className:"word"},t)}))})},m=n(41),p=n.n(m),g=n(13),k="https://shielded-escarpment-91826.herokuapp.com/words/";function w(){return y.apply(this,arguments)}function y(){return(y=Object(a.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get(k);case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S=function(){var e,t,n=v()([]),o=Object(u.a)(n,3),c=(o[0],o[1]),i=o[2],l=v()(0),d=Object(u.a)(l,3),j=(d[0],d[1]),m=d[2],p=v()(0),k=Object(u.a)(p,3),y=k[0],S=k[1],N=k[2],R=v()([]),T=Object(u.a)(R,3),F=T[0],_=T[1],A=T[2],q=Object(r.useRef)(void 0),E=Object(r.useRef)("formal"),C=Object(r.useState)(!1),G=Object(u.a)(C,2),z=G[0],B=G[1],J=Object(r.useRef)(0),D=v()(0),I=Object(u.a)(D,3),L=I[0],M=I[1],P=I[2];Object(r.useEffect)((function(){var e;q.current=(e=function(){return V()},Object(f.a)({getState:e})),q.current.on("start",(function(e){console.log("assistant.on(start)",e)})),q.current.on("data",(function(e){"character"==e.type&&(E.current=e.character.id),e.assistant&&("official"==e.assistant?E.current="formal":E.current="informal"),console.log("assistant.on(data)",e);var t=e.action;W(t)}))}),[]),Object(r.useEffect)((function(){(function(){var e=Object(a.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:(t=e.sent).sort((function(){return Math.random()-.5})),console.log(t),c(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var H,K,Q,U,V=function(){var e,t,n,r,o,c,l,s;console.log("getStateForAssistant: this.state:",null===N||void 0===N?void 0:N.current);var u={item_selector:{items:{word:null===i||void 0===i||null===(e=i.current)||void 0===e||null===(t=e[null===m||void 0===m?void 0:m.current])||void 0===t?void 0:t.word,question:null===i||void 0===i||null===(n=i.current)||void 0===n||null===(r=n[null===m||void 0===m?void 0:m.current])||void 0===r?void 0:r.question,future:null===i||void 0===i||null===(o=i.current)||void 0===o||null===(c=o[(null===m||void 0===m?void 0:m.current)+1])||void 0===c?void 0:c.question,point:null===N||void 0===N?void 0:N.current,lives:null===P||void 0===P?void 0:P.current,arr:null===A||void 0===A?void 0:A.current,speech:null===E||void 0===E?void 0:E.current,possibility:null===N||void 0===N?void 0:N.current,try:null===J||void 0===J?void 0:J.current,length:null===i||void 0===i||null===(l=i.current)||void 0===l||null===(s=l[null===m||void 0===m?void 0:m.current])||void 0===s?void 0:s.word.length}}};return console.log("getStateForAssistant: state:",u),u},W=function(e){if(console.log("dispatchAssistantAction",e),e)switch(e.type){case"guess_word":return $(e);case"add_life":return ee();case"open_letter":return te(e);case"init":return Y();case"ease":return Z(e);default:throw new Error}},X=function(e,t){var n;console.log("START"),null===q||void 0===q||null===(n=q.current)||void 0===n||n.sendData({action:{action_id:e,payload:{asked:t}}})},Y=function(){X("say_question","\u041e\u0433\u043b\u0430\u0441\u0438 \u0432\u043e\u043f\u0440\u043e\u0441")},Z=function(e){e.body&&(B(!0),setTimeout((function(){var e=(null===m||void 0===m?void 0:m.current)+1;j(e),_([]),X("say_question","\u041e\u0433\u043b\u0430\u0441\u0438 \u0432\u043e\u043f\u0440\u043e\u0441"),B(!1)}),4500)),J.current=0},$=function(e){if(!0===e.isRight){var t,n;b()({title:"\u0412\u0435\u0440\u043d\u043e!",text:"\u0421\u043b\u043e\u0432\u043e: ".concat(null===i||void 0===i||null===(t=i.current)||void 0===t||null===(n=t[null===m||void 0===m?void 0:m.current])||void 0===n?void 0:n.word),icon:"success",timer:3e3});var r=(null===m||void 0===m?void 0:m.current)+1;j(r);var o=(null===N||void 0===N?void 0:N.current)+1;_([]),S(o),J.current=0}else if((null===P||void 0===P?void 0:P.current)>0){var c=(null===P||void 0===P?void 0:P.current)-1;M(c)}else b()({text:"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0441\u043d\u043e\u0432\u0430 :(",icon:"error",timer:3e3}),S(0),J.current+=1,J.current>=4&&X("ask","\u043f\u043e\u043c\u043e\u0449\u044c")},ee=function(){var e=(null===P||void 0===P?void 0:P.current)+1;M(e);var t=(null===N||void 0===N?void 0:N.current)-2;S(t)},te=function(e){var t=e.id,n=null===A||void 0===A?void 0:A.current;n.push(t),_(n);var r=(null===N||void 0===N?void 0:N.current)-1;S(r)};return(null===i||void 0===i||null===(e=i.current)||void 0===e||null===(t=e[null===m||void 0===m?void 0:m.current])||void 0===t?void 0:t.word)?Object(O.jsxs)("div",{className:"content",children:[Object(O.jsxs)("div",{children:[Object(O.jsxs)("label",{className:"texts",children:["\u0423\u0433\u0430\u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u0434\u0440\u044f\u0434: ",y]}),Object(O.jsxs)("button",{onClick:function(){X("add_life","\u041a\u0443\u043f\u0438\u0442\u044c \u0436\u0438\u0437\u043d\u044c")},className:"shine-button",children:[Object(O.jsx)(g.f,{color:"#FF0000",className:"texts"}),Object(O.jsxs)("label",{className:"texts",children:[": ",L]})]})]}),Object(O.jsx)("div",{className:"resolut",children:Object(O.jsx)(x,{word:null===i||void 0===i||null===(H=i.current)||void 0===H||null===(K=H[null===m||void 0===m?void 0:m.current])||void 0===K?void 0:K.word,indArr:F,show:z})}),Object(O.jsx)(h.TextBox,{title:"\u0417\u0430\u0433\u0430\u0434\u043a\u0430:",size:"l",subTitle:null===i||void 0===i||null===(Q=i.current)||void 0===Q||null===(U=Q[null===m||void 0===m?void 0:m.current])||void 0===U?void 0:U.question,className:"texts",style:{margin:"3% 0 0 0"}})]}):Object(O.jsxs)("div",{className:"content",children:[Object(O.jsx)("div",{children:Object(O.jsx)(h.TextSkeleton,{size:"headline1",width:"20"})}),Object(O.jsx)("div",{className:"resolut",children:Object(O.jsxs)("span",{children:[Object(O.jsx)(h.RectSkeleton,{className:"rectsk"}),Object(O.jsx)(h.RectSkeleton,{className:"rectsk"}),Object(O.jsx)(h.RectSkeleton,{className:"rectsk"}),Object(O.jsx)(h.RectSkeleton,{className:"rectsk"}),Object(O.jsx)(h.RectSkeleton,{className:"rectsk"})]})}),Object(O.jsx)(h.TextSkeleton,{size:"headline1",width:"20",lines:2,style:{marginTop:"4%"}})]})},N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,216)).then((function(t){var n=t.getCLS,r=t.getFID,o=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),o(e),c(e),i(e)}))},R=n(84),T=n(1),F=n(31),_=n(2);function A(){var e=Object(R.a)(["\n    html:root {\n        min-height: 100vh;\n        color: ",";\n        background-color: ",";\n        background-image: ",";\n    }\n"]);return A=function(){return e},e}var q=Object(T.createGlobalStyle)(A(),_.text,_.background,_.gradient),E=Object(T.createGlobalStyle)(F.darkSber),C=(Object(T.createGlobalStyle)(F.darkJoy),Object(T.createGlobalStyle)(F.darkEva),function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(q,{}),Object(O.jsx)(E,{})]})});i.a.render(Object(O.jsxs)(o.a.StrictMode,{children:[Object(O.jsx)(C,{}),Object(O.jsx)(S,{})]}),document.getElementById("root")),N()},62:function(e,t,n){},90:function(e,t,n){}},[[214,1,2]]]);
//# sourceMappingURL=main.5bbbcfc8.chunk.js.map