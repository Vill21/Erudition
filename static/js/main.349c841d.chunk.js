(this["webpackJsonpsalute-demo-app"]=this["webpackJsonpsalute-demo-app"]||[]).push([[0],{214:function(t,n,e){"use strict";e.r(n);var r=e(0),o=e.n(r),i=e(16),c=e.n(i),u=(e(90),e(9)),l=e.n(u),a=e(8),s=e(26),d=e(17),v=e.n(d),f=e(39),b=e.n(f),j=e(85),h=e(82),p=(e(61),e(3)),O=function(t){var n=t.word||"",e=t.indArr,r=t.show;return Object(p.jsx)("span",{className:"container",children:n.split("").map((function(t,n){return e.find((function(t,e,r){return t-1===n}))||r?Object(p.jsx)("label",{className:"word",children:t},n):Object(p.jsx)("label",{className:"word"},n)}))})},m=e(40),x=e.n(m),g=e(13),w="https://shielded-escarpment-91826.herokuapp.com/words/";function y(){return k.apply(this,arguments)}function k(){return(k=Object(s.a)(l.a.mark((function t(){var n,e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.get(w);case 2:return n=t.sent,e=n.data,t.abrupt("return",e);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var S=function(){var t,n,e,o,i=v()([]),c=Object(a.a)(i,3),u=(c[0],c[1]),d=c[2],f=v()(0),m=Object(a.a)(f,3),x=(m[0],m[1]),w=m[2],k=v()(0),S=Object(a.a)(k,3),N=S[0],F=S[1],_=S[2],A=v()([]),T=Object(a.a)(A,3),q=T[0],E=T[1],R=T[2],C=Object(r.useRef)(void 0),G=Object(r.useRef)("formal"),B=Object(r.useState)(!1),J=Object(a.a)(B,2),D=J[0],I=J[1],L=Object(r.useRef)(0),M=v()(0),P=Object(a.a)(M,3),z=P[0],H=P[1],K=P[2];Object(r.useEffect)((function(){var t;C.current=(t=function(){return Q()},Object(j.a)({getState:t})),C.current.on("start",(function(t){console.log("assistant.on(start)",t)})),C.current.on("data",(function(t){"character"==t.type&&(G.current=t.character.id),t.assistant&&("official"==t.assistant?G.current="formal":G.current="informal"),console.log("assistant.on(data)",t);var n=t.action;U(n)}))}),[]),Object(r.useEffect)((function(){(function(){var t=Object(s.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y();case 2:(n=t.sent).sort((function(){return Math.random()-.5})),console.log(n),u(n);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]);var Q=function(){var t,n,e,r,o,i,c,u;console.log("getStateForAssistant: this.state:",null===_||void 0===_?void 0:_.current);var l={item_selector:{items:{word:null===d||void 0===d||null===(t=d.current)||void 0===t||null===(n=t[null===w||void 0===w?void 0:w.current])||void 0===n?void 0:n.word,question:null===d||void 0===d||null===(e=d.current)||void 0===e||null===(r=e[null===w||void 0===w?void 0:w.current])||void 0===r?void 0:r.question,future:null===d||void 0===d||null===(o=d.current)||void 0===o||null===(i=o[(null===w||void 0===w?void 0:w.current)+1])||void 0===i?void 0:i.question,point:null===_||void 0===_?void 0:_.current,lives:null===K||void 0===K?void 0:K.current,arr:null===R||void 0===R?void 0:R.current,speech:null===G||void 0===G?void 0:G.current,possibility:null===_||void 0===_?void 0:_.current,try:null===L||void 0===L?void 0:L.current,length:null===d||void 0===d||null===(c=d.current)||void 0===c||null===(u=c[null===w||void 0===w?void 0:w.current])||void 0===u?void 0:u.word.length}}};return console.log("getStateForAssistant: state:",l),l},U=function(t){if(console.log("dispatchAssistantAction",t),t)switch(t.type){case"guess_word":return Y(t);case"add_life":return Z();case"open_letter":return $(t);case"init":return W();case"ease":return X(t);default:throw new Error}},V=function(t,n){var e;console.log("START"),null===C||void 0===C||null===(e=C.current)||void 0===e||e.sendData({action:{action_id:t,payload:{asked:n}}})},W=function(){V("say_question","\u041e\u0433\u043b\u0430\u0441\u0438 \u0432\u043e\u043f\u0440\u043e\u0441")},X=function(t){t.body&&(I(!0),setTimeout((function(){var t=(null===w||void 0===w?void 0:w.current)+1;x(t),E([]),V("say_question","\u041e\u0433\u043b\u0430\u0441\u0438 \u0432\u043e\u043f\u0440\u043e\u0441"),I(!1)}),4500)),L.current=0},Y=function(t){if(!0===t.isRight){var n,e;b()({title:"\u0412\u0435\u0440\u043d\u043e!",text:"\u0421\u043b\u043e\u0432\u043e: ".concat(null===d||void 0===d||null===(n=d.current)||void 0===n||null===(e=n[null===w||void 0===w?void 0:w.current])||void 0===e?void 0:e.word),icon:"success",timer:3e3});var r=(null===w||void 0===w?void 0:w.current)+1;x(r);var o=(null===_||void 0===_?void 0:_.current)+1;E([]),F(o),L.current=0}else if((null===K||void 0===K?void 0:K.current)>0){var i=(null===K||void 0===K?void 0:K.current)-1;H(i)}else b()({text:"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0441\u043d\u043e\u0432\u0430 :(",icon:"error",timer:3e3}),F(0),L.current+=1,L.current>=4&&V("ask","\u043f\u043e\u043c\u043e\u0449\u044c")},Z=function(){var t=(null===K||void 0===K?void 0:K.current)+1;H(t);var n=(null===_||void 0===_?void 0:_.current)-2;F(n)},$=function(t){var n=t.id,e=null===R||void 0===R?void 0:R.current;e.push(n),E(e);var r=(null===_||void 0===_?void 0:_.current)-1;F(r)};return Object(p.jsxs)("div",{className:"content",children:[Object(p.jsxs)("div",{children:[Object(p.jsxs)("label",{className:"texts",children:["\u0423\u0433\u0430\u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u0434\u0440\u044f\u0434: ",N]}),Object(p.jsxs)("button",{onClick:function(){V("add_life","\u041a\u0443\u043f\u0438\u0442\u044c \u0436\u0438\u0437\u043d\u044c")},className:"shine-button",children:[Object(p.jsx)(g.f,{color:"#FF0000",className:"texts"}),Object(p.jsxs)("label",{className:"texts",children:[": ",z]})]})]}),Object(p.jsx)("div",{className:"resolut",children:Object(p.jsx)(O,{word:null===d||void 0===d||null===(t=d.current)||void 0===t||null===(n=t[null===w||void 0===w?void 0:w.current])||void 0===n?void 0:n.word,indArr:q,show:D})}),Object(p.jsx)(h.TextBox,{title:"\u0417\u0430\u0433\u0430\u0434\u043a\u0430:",size:"l",subTitle:null===d||void 0===d||null===(e=d.current)||void 0===e||null===(o=e[null===w||void 0===w?void 0:w.current])||void 0===o?void 0:o.question,className:"texts",style:{margin:"3% 0 0 0"}})]})},N=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,216)).then((function(n){var e=n.getCLS,r=n.getFID,o=n.getFCP,i=n.getLCP,c=n.getTTFB;e(t),r(t),o(t),i(t),c(t)}))},F=e(84),_=e(1),A=e(30),T=e(2);function q(){var t=Object(F.a)(["\n    html:root {\n        min-height: 100vh;\n        color: ",";\n        background-color: ",";\n        background-image: ",";\n    }\n"]);return q=function(){return t},t}var E=Object(_.createGlobalStyle)(q(),T.text,T.background,T.gradient),R=Object(_.createGlobalStyle)(A.darkSber),C=(Object(_.createGlobalStyle)(A.darkJoy),Object(_.createGlobalStyle)(A.darkEva),function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(E,{}),Object(p.jsx)(R,{})]})});c.a.render(Object(p.jsxs)(o.a.StrictMode,{children:[Object(p.jsx)(C,{}),Object(p.jsx)(S,{})]}),document.getElementById("root")),N()},61:function(t,n,e){},90:function(t,n,e){}},[[214,1,2]]]);
//# sourceMappingURL=main.349c841d.chunk.js.map